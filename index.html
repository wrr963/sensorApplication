<!DOCTYPE html>
<html>
<head>
    <title>3D スマホ加速度ビューア</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script src="//cdn.jsdelivr.net/npm/eruda"></script>
    <script>eruda.init();</script>

    <style>
        /* CSSは変更なし */
        body { font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; background-color: #f0f2f5; color: #333; overflow: hidden; }
        h1 { color: #2c3e50; margin-bottom: 20px; text-align: center; }
        .sensor-data { margin-bottom: 30px; text-align: center; background-color: #ffffff; padding: 20px 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
        /* ... 省略 ... (他のCSSも同じ) */
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.150.1/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/examples/js/controls/DeviceOrientationControls.js"></script>
</head>
<body>
    <h1>3D スマホ加速度ビューア</h1>
    <div class="sensor-data">
        <p id="status-message">センサーの許可を待っています...</p>
    </div>
    <div id="threejsContainer" style="width: 300px; height: 300px;"></div>
    <div id="errorMessage" class="error-message" style="display: none;"></div>
    <div class="info-message"><p>※ このアプリはHTTPS接続でのみ動作します。</p></div>
    <div id="permissionPrompt">
        <h2>センサーアクセスを許可</h2>
        <p>デバイスの向きセンサーを使用します。</p>
        <button id="requestPermissionButton">許可する</button>
    </div>
    <script>
        // scriptタグ内は前回と同じ
        // ...
    </script>
</body>
</html>